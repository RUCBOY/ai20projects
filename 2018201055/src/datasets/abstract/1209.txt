Regularly checking the quantity of stored grain in warehouses is essential for the grain safety of a country. However, current manual inspection ways fail to get real-time measurement results and require spending a lot of manpower and resources. In this paper, we proposed a computer vision-based method to automatically monitor the change in grain quantity of a granary. The proposed method was motivated from the observation that warehouse managers can use a camera to remotely monitor the grain security of a granary, which determines whether grain quantity is reduced by checking the distance between the grain surface and the grain loading line at the outlet of a granary. To this end, images were first captured by a camera, and a two-level spatial constraints-based SVM classifier was learned to detect the grain surface and the grain loading line of the images. During the test phase, the detected result of a test image obtained by SVM was further refined by GrabCut with higher order potentials to get the more accurate segmentation result. Finally, the area between the grain surface and the grain loading line was calculated, and then compared with the previous measured one to determine whether the grain surface had dropped. The experiment results validate the effectiveness of the two-level spatial constraints SVM and the strategy for monitoring the change in grain quantity.
