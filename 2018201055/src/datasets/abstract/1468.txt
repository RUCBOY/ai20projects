Network analysis is one of the most important branches in modern science, it has brought great advances which help us better understanding complex systems. Recently, detecting community structure within networks has played a more and more critical role in network analysis, due to the fact that it has many crucial applications in a wide range of disciplines, such as sociology, biology, computer science, and other disciplines which can be represented as graphs, hence the problem of detecting communities in networks has attracted a lot of attention from researchers in different areas. However, most of existing algorithms and approaches are built on an assumption that the number of communities in a network is prior known, whereas in many cases, we do not know too much information about this vital quantity. In this work, by fitting networks with stochastic block model, we put forward a novel hypothesis testing framework which can automatically determine the number of communities in various networks. By combining our hypothesis testing method with a motif based clustering approach, we design a recursive bipartitioning algorithm which can fast detect community structure in simulated networks, as well as various real networks.
