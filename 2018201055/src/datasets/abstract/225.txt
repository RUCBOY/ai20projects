Datacenter networks have brought new challenges to meet datacentersâ€™ unique performance requirements. Moreover, the many-to-one traffic pattern, which is quite common in datacenter networks, causes heavy network congestion and leads to TCP incast problem. To solve this problem, many TCP congestion control protocols have been proposed to mitigate the TCP incast. However, these protocols have more or less problems, including high computational complexity and implementation complexity. In this paper, we propose a flow-aware marking and delay-based TCP algorithm for datacenters, referred to as FAMD. FAMD is built on the delay-based protocols and leverages a DCTCP-like marking scheme to indicate the network congestion level and regulate the congestion window. Based on above mechanism, FAMD can maintain a low and stable transmission end-to-end delay. Furthermore, because of the disadvantage of fixed marking threshold, this paper shows how to choose an appropriate threshold dynamically and presents a flow-aware threshold adjustment algorithm, referred to FATA. Therefore, our FAMD can achieve a good generality for different scenarios. Our extensive evaluation shows that FAMD can gain a good throughput and low end-to-end delay.
