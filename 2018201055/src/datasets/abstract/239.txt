Pulmonary embolism (PE), a blockage of the lung artery, is common and sometimes fatal. Early diagnosis and treatment of PE can reduce the risk of associated morbidity and mortality. However, it is a huge challenge to accurately detect PE, particularly for the case of small segmental and subsegmental emboli. In this paper, a flexible probability-based Mask R-CNN model, namely P-Mask RCNN, is proposed for PE detection. Specifically, the feature map is firstly upsampled to enrich the local details of the small objects and to extract anchors at a higher density. Then, a candidate area is constructed based on the probability of the appearance of PE. Finally, we extract the anchors in the candidate area of the enlarged feature map for subsequent detection. Extracting anchors in the candidate area instead of the entire image can not only reduce both time and space consumption caused by the enlarging feature maps but also improve the detection performance by eliminating most invalid anchors. Compared with Mask R-CNN, the anchors extracted by the proposed P-Mask RCNN is closer to the ground truth. Extensive experimental results demonstrate the effectiveness and efficiency of the proposed approach. The source code of our method is available athttps://github.com/longkun-uestc/P_Mask_RCNN.
