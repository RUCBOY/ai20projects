Procedural model fitting (PMF) is a generalization of classical model fitting and has numerous applications for computer vision and computer graphics. The task of PMF is to search a geometric model set for the model that is most similar to a set of data points. We propose a strict and robust similarity estimator for PMF to handle imperfect data. The proposed estimator is based on the error from model to data, while most other estimators are based on the error from data to model. We then use the proposed estimator to guide the cuckoo search algorithm to search for the most similar model. To accelerate the search process, we also propose a coarse-to-fine model dividing strategy to early reject dissimilar models. In this paper, the proposed PMF method is applied to fit building models on laser scanning data. It is also applied to fit character models on eighteen variants of imperfect MNIST data to achieve few-shot pattern recognition. In the 5-shot recognition, our method outperforms the state-of-the-art method on thirteen variants of the imperfect data. In particular, for one of the data corrupted by grid lines, our method obtains a high accuracy of 65%, whereas the state-of-the-art method only obtains an accuracy of 30%.
