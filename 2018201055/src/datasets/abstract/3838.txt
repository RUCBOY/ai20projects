Emerging non-volatile memory (NVM) such as PCM and STT-RAM has memory-like byte-addressability as well as disk-like persistent storage capability. It offers an opportunity to bring NVM into the existing computer architecture for constructing an efficient and high-performance in-memory file system. Several NVM-optimized file systems have been designed. However, most of them fail to exploit all important features of NVM, and can only guarantee the file system consistency to the data consistency level. In this paper, we present HMFS, a hybrid in-memory full-versioning file system. HMFS manages DRAM and NVM in a unified address space and adopts different updating mechanisms to them. Besides, HMFS achieves version consistency with a simple and efficient multi-version approach. Experimental results show that HMFS achieves significant throughput improvement comparing with the state-of-the-art NVM-optimized file systems, such as PMFS and NOVA, and 3.1× to 13.5× higher versioning efficiency compared to some other multi-versioned file system such as BTRFS and NILFS2.
