In the past 5 years, physically based, spatial snow models have gained significant interest in the operational water management community. The need to lower uncertainty in water supply estimates from seasonal snowpacks in the western USA has emerged from increased demand and historic droughts (e.g. Griffin and Anchukaitis, 2014). However, running complex, physically based models in an operational or production like setting is not an easy task and a major limitation in bridging the gap between research and operational applications. Hydrological models that are easy to implement and interpret, like the Soil and Water Assessment Tool (SWAT, Arnold et al., 1998), are highly implemented and cited modeling systems in both research and operational applications.
What makes a modeling system successful in both research and operational applications? For successful operational applications, a model should be easy to use, allowing users to install, configure and run the model with little interaction or knowledge of how the model is structured. Many operational users do not have the time or personnel to commit to understanding the science behind every single equation, but trust that rigorous scientific peer-review has been performed and the user can easily find the necessary documentation to learn more. For successful science applications, an increasingly important factor is ensuring that studies and model results can be fully replicated from the underlying data or measurements.
There are many modeling systems and frameworks available to users and it is important to select a model that is most appropriate for the application, which comes from scientific literature review and/or recommendation based on the application. It is important that all model users understand the fundamentals of a given model and possible sources of uncertainty. However, for certain applications, users will not have the capacity or resources to investigate all possible modeling decisions and will rely on published science to select appropriate parameters for the application.
Modeling systems and frameworks typically fall into 3 main categories: 1) model integration frameworks and protocols, 2) integrated environmental modeling and 3) standalone models. Model integration frameworks allow end users to interchange model physics or processes to represent different parts of the physical process being modeled. Popular frameworks include the Modular Modeling System (MMS, Leavesley et al., 1996) that was superseded by the Object Modeling System (OMS, David et al., 2013), Structure for Unifying Multiple Modeling Alternatives (SUMMA, Clark et al., 2015a, 2015b), Community Surface Dynamic Modeling System (CSDMS, Peckham et al., 2013), and the Earth System Modeling Framework (ESMF, Valcke et al., 2012). The core of these frameworks contain a protocol for passing data between model components, either a custom integration, or other methods such as Basic Model Interface (BMI, Peckham et al., 2013) or Open Modeling Interface (OMI, Gregersen et al., 2007).
The second class of models are integrated environmental models (IEM) which are fully integrated, multi-disciplinary models that perform the complete system analysis that spans hydrology, ecology, to societal models; for example, the Framework for Risk Analysis in Multimedia Environmental Systems (FRAMES, Whelan et al., 2014) and GIBSI (Quilbe and Rousseau, 2007).
The third class of models are standalone models that focus on a specific application of a physical process and may or may not have methods for interpolation of input data. Examples of standalone models include the Precipitation Runoff Modeling System (PRMS, Markstrom et al., 2015), the Distributed Hydrology Soil-Vegetation Model (DHSVM, Wigmosta et al., 1994) and, to an extent, the modeling framework described here.
Ensuring reproducible research is an ongoing problem in hydrology (Hutton et al., 2016; Peng, 2011) as successful reproduction requires that the full modeling process, from input data to the model outputs, be reproducible. Reproducible science is extremely important to establish scientific validity, enhance scientific collaboration and ensure scientific integrity. Even with modular frameworks and environments that have begun to follow software engineering standards of code development, implementation of a model can require significant user effort, which can hamper application and reproducibility. The gold standard of full reproducibility in science can be accomplished by following current software engineering approaches for open source software, code tracking with versioning, and packaging of the run environment. However, complete reproducibility does not always mean that the code is easy to understand, well-documented or reusable. Ensuring that the code is well-documented and readable with example workflows guarantees that other users can replicate and understand the models (Hutton et al., 2016).
Specifically, in the field of snow science, software engineering approaches, including code versioning and packaging, have not been predominant practices. Many of the more well-known snow models like iSnobal (Marks et al., 1999), Alpine3D (Lehning et al., 2006), Crocus (Brun et al., 1992, 1989), Cold Regions Hydrology Model (CRHM, Ellis et al., 2010) and SnowModel (Liston and Elder, 2006) require close collaboration with the model developers to install, configure and run the models. This can be problematic when attempting to reproduce the results of a study and can hinder the collaboration within this very small field of snow researchers. The study by Hedrick et al. (2018a) was one of the first in the field of physics-based snow modelling to be fully reproducible by packaging the dataset and, most importantly, the software used to generate the results. This study introduces the framework that facilitated the Hedrick et al. (2018a) case of reproducible science, in an effort to provide an easy to install, easy to configure and easy to run snow modeling application.
The Automated Water Supply Model (AWSM) was designed to make physically based models easier to run, streamline the entire modeling process and be fully reproducible. Model simulations are overall a faster process, allowing users to run spatial ensembles using multiple configurations rather than a single model instance. The major benefit and motivation for the development of AWSM is enabling reproducible research through code packaging and input backups of configuration and input files. This allows for complete reproduction of large spatial datasets from a few small files, introducing a novel approach to snow modeling. This paper details the structure of AWSM and shows example case studies that can be fully reproduced.
