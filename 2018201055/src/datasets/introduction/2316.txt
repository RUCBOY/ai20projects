Roasting is one of the most complex and important stages of the coffee production chain. During the roast process, several chemical reactions, such as hydrolysis, polymerization and pyrolysis contribute to the chemical and physical changes that occur in the beans. These chemical reactions produce volatile and non-volatile compounds that will compose the organoleptic properties of the drink such as aroma and flavor, and are also responsible for the color change of the coffee beans (Cheong et al., 2013). The change in bean coloring during roasting is due to the formation of melanoidins, which are dark and high molecular weight compounds resulting from complex chemical transformations of the Maillard reaction and the caramelization reaction (Ludwig et al., 2012). Both chemical reactions are closely related to the sensory properties, in this way the correct definition of coffee roast degree is of paramount importance as it directly influences the beverage quality (Kocadagli and Gökmen, 2015, Kucera et al., 2016).
Besides, as far as the coffee beans color is concerned, the industries and coffee shops may need to maintain a roasting pattern. However, few equipment help in the correct color reading of roasted coffee beans. Generally, the definition of the roast degree is made by masters of roast that show great sensory variability during this subjective color reading or by equipment, such as colorimeters and spectrophotometers which are expensive and not economically viable for small coffee industries. Although there are recent developments in coffee bean quality assessment, such as the analysis of hyperspectral images (Calvini et al., 2015, Chu et al., 2018, Kiani et al., 2018), color remains a significant factor in the marketing of the product.
The CIE L*a*b* system, a color standard implemented by the Commission Internationale de l'Eclairage' (CIE, 1986), has been used worldwide for color measurements because it has a uniform distribution and its color space is regardless of the used device. The color is described by the coordinates L*, a* and b*. The L* coordinate represents the luminance, while the a* and b*coordinates represent the change of color from red to green and yellow to blue, respectively. Differently from the RGB color space, the CIE L*a*b* one is perceptually uniform (Capitán-Vallvey et al., 2015). Traditional CIE L*a*b* color measurement equipment, such as colorimeters and spectrometers, typically capture a small and uniform sample. This limitation has generated the need of new systems of computer vision that aid in the color reading on non-uninform samples, as is the case of roasted coffee beans (Seginini et al., 1999, Papadakis et al., 2000, León-Roque et al., 2016, Oliveira et al., 2016).
Computer vision is a scientific area that aims to develop algorithms to automatically extract and analyze useful information about a given object or scene from an observed image, image set or image sequence (Brosnan and Sun, 2003, Wu and Sun, 2013, Wan et al., 2018). In this sense, it extracts quantitative color information from digital images using image processing and analysis, resulting in a non-contact and fast color measurement, besides providing a cheaper and more versatile path than traditional color measurement instruments (León et al., 2006, Costa et al., 2015, Sanaeifar et al., 2016, Vidal et al., 2018).
The color tone for roasted coffee beans can vary widely depending on the roasting time and temperature, air pressure in the chamber, type of coffee, among others. This hinders a reliable visual definition or the use of equipment that requires constant calibrations. Thus, the aim of this work was to develop a calibrated computer vision system to measure the roast degree of coffee samples (whole and ground beans) in a universal color space based on a roast index defined by the Specialty Coffee Association of America (SCAA, 2017).
This work proposes a color transformation model that converts the RGB (Red Green Blue) color space to the independent CIE L*a*b* using artificial neural networks (ANNs) (Haykin, 2009), considering whole and ground coffee beans images. In addition, it is proposed a roasting degree recognition system capable of predicting the Agtron/SCAA value of each sample, using polynomial regression models and ANNs for colored and grayscale images.
