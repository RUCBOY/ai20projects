NAND flash memory, which has been one of the key enablers of the modern digital revolution, played an important role in realizing various innovative digital products such as digital cameras, smart-phones and ultra-high-capacity SSDs [1], [2]. With on-going data-driven innovations, the role of NAND flash memory is expected to be even more critical in emerging new market areas (such as real-time analytics, machine learning, and self-driving cars) where a large amount data should be collected and processed in a timely fashion. However, the current NAND flash memory may have difficulties in meeting the performance and lifetime requirements of the emerging applications.
For example, consider the NAND flash memory for future self-driving cars. Autonomous vehicles are expected to collect and process tera-bytes of data every hour under widely varying operating temperatures in a near real-time fashion [3]. Since such a vehicle is expected to run for long times without failures, its on-board storage system should guarantee a long lifetime. However, although existing state-of-the-art flash memory solutions (e.g., TLC flash memory) have successfully increased the flash capacity, they are ill-suited to meet these new requirements. For instance, the lifetime of the TLC flash memory, whose capacity is three times that of SLC flash memory, is only 1% of the SLC flash memory [4], [5]. Furthermore, since these cars may operate under dynamically changing conditions (e.g., operating temperatures), the read latency of flash memory tends to fluctuate widely. Large variability in read latency makes it impossible to support time-bounded read operations that are essential for real-time systems.Download : Download high-res image (278KB)Download : Download full-size imageFig. 1. An overall procedure of our investigation study.
As the flash memory technology further advances (e.g., QLC flash memory), unfortunately, both the performance and lifetime characteristics of the flash memory are expected to get even worse. To meet the challenging new flash requirements of emerging data-intensive apps, therefore, significant improvements are needed across the key design abstractions of a flash storage system. In this paper, we address the key problem at the NAND flash layer. In particular, we focus on developing an accurate and practical NAND wear index (or marker) that represents the wearing degree of NAND cells. Since the inner working of all the flash operations is tightly connected to how much NAND cells were worn out, knowing the exact wear status of NAND cells is an essential prerequisite to develop efficient flash optimization techniques.
In theory, the wear status of a NAND cell is determined by the amount of damage accumulated in the tunnel oxide layer of the NAND cell from flash operations (e.g., program or erase). However, because of practical difficulties, the defect in the tunnel oxide layer cannot be directly measured during run time. Instead, the wearing degree of NAND cells is approximately estimated using a wear predictor that is based on the known causes of degrading the tunnel oxide layer.
The most common wear indicator is to count the chronological age of a NAND cell based on the number of program/erase (P/E) cycles (i.e., the number of program and erase operations the NAND cell has experienced), in a similar fashion as the chronological age of a human being. Since a high electrical voltage (> 20 V) is known to damage the tunnel oxide layer during the program and erase operations, the number of P/E cycles has been regarded as an effective and practical proxy indicating the wear status of NAND cells. Therefore, many flash optimization techniques have been designed using the number of P/E cycles as a NAND aging marker although its prediction accuracy as a NAND aging marker was not fully understood or its impact on the flash optimization techniques were not clear. The main goal of this paper, therefore, is to investigate NAND aging markers in a comprehensive fashion so that highly efficient flash optimization techniques can be designed using an accurate NAND aging marker. Fig. 1 summarizes the key steps of our investigation study.
To verify the adequacy of a P/E cycle-based aging marker, we evaluated how the wear status of NAND blocks and their P/E cycles are related using real 48-layer 3D TLC flash chips. As described in Section 3, we found that the P/E cycle-based aging marker is not a reliable wear indicator. Intuitively, the role of a P/E-cycle based aging marker is similar to that of the chronological age of a human being. For example, individuals with the same chronological age could have widely different biological ages due to their genetic differences such as the length of telomere [6], [7]. Even twins with the same genetic characteristics may have different biological ages because of differences in their life styles and living environments [8]. Similarly, when two NAND blocks experience the same number of P/E cycles, their wearing degree could be significantly different. This difference in aging characteristics between NAND blocks is caused by various factors such as (1) process variations occurred while they are manufactured, (2) I/O workload variations in different NAND blocks, and (3) variations in their operating environment. Although these factors affect the wearing degree of the NAND block, the P/E cycle-based aging marker cannot reflect these factors at all. Therefore, there is a clear need for a more reliable NAND aging marker which can indicate the actual wear status of NAND blocks by considering key variation factors.
In designing a new NAND aging marker, we set the following requirements as the key attributes of an ideal NAND aging marker:

R1.It must tell exactly where NAND cells are in their total life span.R2.It must monitor a basic process that underlies NAND cell aging, not the effect of NAND cell aging.R3.It must be computable during run time.
To derive an accurate NAND aging model that meets the above requirements, we have comprehensively investigated the effect of key factors affecting the NAND aging process using real 3D TLC flash chips. Based on our extensive experimental data, we developed a novel NAND aging marker, called RealWear, which can indicate the different aging status of an individual NAND block in a much more accurate fashion over the existing P/E cycle-based aging marker. We followed a general model construction approach where (1) wear-related variables are selected and (2) the relationship between the wear status of NAND cells and the selected variables is derived to construct a NAND aging model. We validated the adequacy of RealWear as a NAND aging predictor by comparing the predicted error characteristics of NAND blocks with that from actual measurements while varying operating conditions. As will be presented in Section 5, RealWear outperforms the P/E cycle-based aging marker by distinguishing the wear status of NAND blocks in a more accurate fashion for a longer lifespan of a NAND block. (In the rest of paper, we call the P/E cycle-based aging marker as PeWear.)
To demonstrate the benefit of RealWear in flash storage systems, we present three case studies, LongLive, FastCopy, and BoudedRead. LongLive improves the lifetime of flash storage system, and FastCopy reduces the overhead of garbage collection (GC). Our experimental results show that LongLive can extend the lifetime of individual NAND blocks by an average of 63% and FastCopy can improve the performance up to 21% by reducing GC overhead. BoudedRead, which reduces read latency fluctuations, achieves time-bounded reads for a flash storage system. Our evaluation shows that no read can experience more than two read retries under all possible operating conditions, thus significantly reducing the tail latency of the flash storage system.
This paper makes the following key contributions:

•We show that the existing P/E cycle-based NAND aging marker is not adequate to satisfy the new flash requirements for data-intensive emerging applications. Based on the comprehensive device-level measurements using real state-of-the-art 3D TLC NAND flash chips, we quantitatively show the key weak points of the P/E cycle-based aging marker.•We present a new novel NAND aging marker, RealWear, which accurately represents the real wear status of NAND cells. To the best of our knowledge, RealWear is the most accurate NAND aging predictor among openly known NAND aging markers.1 •We demonstrate that RealWear is effective in extending the lifetime and performance of a flash storage system. Over their counterpart techniques based on the P/E cycle-based aging marker, LongLive can extend the lifetime of a flash storage system and FastCopy can reduce the copy overhead of GC.•We show that the worst-case flash read latency can be bounded using RealWear. To the best of our knowledge, BoudedRead is the first technique that supports the bounded read latency. BoudedRead can open new application areas for flash memory where timing constraints are important.
The rest of this paper is organized as follows: We review a basic wear mechanism of NAND blocks and its impact on flash operations in Section 2. Before RealWear is presented, in Section 3, we report our evaluation results on the inadequacy of the existing P/E cycle-based aging marker and discuss the root causes of the weakness of P/E cycle-based aging marker. Section 4 explains the key steps of designing RealWear and Section 5 presents the validation results of RealWear. In Section 6, we present three case studies that illustrate the benefits of RealWear in improving the lifetime and performance of flash storage systems. Related work is summarized in Section 7, and Section 8 concludes with a summary and future work.
