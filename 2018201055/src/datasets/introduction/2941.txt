Virtual Research Environments (VREs) [1], also known as virtual laboratories or science gateways, provide integrated online environments for researchers engaged in data science, typically including tools for activities such as data discovery, data retrieval, researcher collaboration, process scheduling on remote computing resources (such as high performance compute clusters or the Cloud), and workflow management. VREs can be considered to be one of three types of science support environment developed to support researchers in data science [2], the other two being research infrastructures (RIs) and e-infrastructure. Where RIs focus on providing access to data and services based on those data to particular research communities however, and e-infrastructure focuses on providing the fundamental compute, storage and networking facilities needed to support data science, VREs focus on supporting researchers in actually using the data, services and facilities made available by the other two kinds of infrastructure.
Many VREs are coupled with certain e-infrastructures to facilitate process scheduling and storage of user data, often making use of e-infrastructures provided specifically for the research community (via initiatives such as EGI1  or EUDAT2 ) or public Cloud platforms. Data are brought into the dedicated infrastructure, and are then explored and manipulated via a particular data processing platform or scientific workflow management system [3]. A difficulty arises where research datasets and services are distributed across multiple e-infrastructures; the recurrent question of whether it is better to move data to where the computation will occur, or to move computation to where the data are (given the ever-increasing size of datasets) means that VREs need to be more flexible as to how and where they connect to different resources. In particular, overly restrictive couplings can be seen as contrary to the recent drive towards open science and open data which discourages solutions that force users to move data and services into a closed system rather than directly engage with openly-accessible data services hosted by RIs.
While moving data and computation onto a single controlled platform has advantages – primarily, that the utilisation of resources is simplified and the quality of service made easier to sustain – what we increasingly observe instead is the construction of dedicated RIs that aggregate and curate scientific data (including real-time observations) for a particular research community, and then provide access to these data via unified services [4] independently of any particular operational environment. These RIs often provide their own portals to retrieve data, and in some cases provide limited ability to access computational infrastructure for executing processes, but they also provide APIs to allow outside agents to retrieve data and access services, allowing for other VRE systems to potentially make use of their resource offerings. These APIs are not standardised across RIs however, nor are the metadata for the resources behind them, whether those resources be data, code, models, services or something else.
To help resolve this, there is now a substantive push to better integrate these efforts into a cohesive multidisciplinary commons for open science and open research data, as embodied by initiatives such as the European Open Science Cloud (EOSC) [5] and the Research Data Alliance (RDA).3  These initiatives focus on interoperable infrastructure and the adoption of best practices as embodied by the FAIR data principles for findable, accessible, interoperable and reusable data [6]. In addition, there have been a number of projects, such as VRE4EIC4  and BlueBRIDGE,5  to specify or develop generic VREs that can be easily coupled with different RIs and customised for specific communities, taking advantage of improved infrastructure and greater accessibility of data and resources. The lack of conformity of standards and vocabularies in some scientific domains, especially between traditional scientific specialities, makes it difficult however even to retrieve from providers the metadata that describes resources and their appropriate use. Instead, significant software engineering effort is often required on the behalf of data scientists and infrastructure engineers to build specific adapters for every potential coupling of RI and VRE.
Part of the reason it is so important to be able to retrieve resource metadata from different RIs into an integrated environment is to better support interdisciplinary research, which requires the ability to search across different RIs for similar or complementary datasets or services. This entails a complex interaction between a generic VRE and multiple RIs, distributing queries through multiple adapters and then aggregating the results, or else harvesting resource metadata in advance from all providers to allow preliminary queries to be conducted on a single catalogue before distributing follow-on queries to specific providers. Different approaches to managing this interaction balance competing concerns such as liveness, responsiveness, openness and scalability.
In this paper, after providing some foundational background (Section 2), we describe a framework for flexible metadata mapping and publication that can expedite the coupling of an enhanced VRE with resources (principally data, but also models, tools, services, etc..) from different RIs, all using different metadata schemes, to provide cross-RI metadata search and discovery (Section 3). The ability to perform such search and discovery is the basis for any number of other integrative VRE services, including remote service invocation and workflow scheduling and orchestration. We further describe a metadata service that implements this framework, developed in the context of the VRE4EIC project (Section 4). We describe how mappings from standards such as ISO 19139 [7] and DCAT [8] to CERIF [9] using the X3ML framework [10] have been used to automatically ingest metadata published by different RIs to produce a joint catalogue. We describe the Portal that was developed to provide access to this catalogue, discuss its main virtues, and then describe the ongoing developments to further improve the Portal based on feedback received from the environmental and earth science RI community to which it was demonstrated (Section 5). We discuss other developments of relevance to our work and to VRE development in general (Section 6), and finally summarise our contributions (Section 7).
Download : Download high-res image (374KB)Download : Download full-size imageFig. 1. Overview of the e-VRE reference architecture: (a) six modular building blocks for generic VREs able to access the resources of different RIs, distributed across three tiers of operation; and (b) the recommended microservice stack to provide a metadata service implementing the metadata manager building block.
