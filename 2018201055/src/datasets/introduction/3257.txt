1.1. Background and contextAlmost fifty-two years have elapsed since the first pictures of the Martian surface were taken by the NASA Mariner 4 spacecraft. Over that time, the resolution and quality of orbital imagery has improved from tens of kilometres down to 25 cm. During these 5 decades, many areas on Mars have been imaged with serendipitous stereo, mainly to improve the potential for scientific studies. The rapid progress in planetary surface reconnaissance instrumentation, especially in relation to 3D imaging of the surface, has allowed change detection analysis. For example, by overlaying different high-resolution (<100m/pixel) imagery from distinct time epochs (starting back to the mid 1970's) one can examine dynamic features, such as the recent discovery on Mars of mass (e.g. boulder) movement, tracking inter-year changes of seasonal phenomena (e.g. Swiss Cheese Terrain) and looking for fresh craters from meteoritic impacts.It is common knowledge in the planetary scientific community that research greatly benefits from the availability of high-resolution 3D models of Mars. Even though over the last 20 years there has been substantial progress in the development of either open-source or commercial planetary 3D reconstruction software, such software typically fails to reach the required performance when used by individual planetary scientists to build good quality Digital Terrain Models (DTMs) on their own.Within the recently completed European Union's Seventh Framework Programme (EU FP-7) iMars (http://www.i-mars.eu last accessed: 15.11.2017) project, we focused on developing tools and producing value-added datasets to maximize the exploitation of the available planetary datasets of the Martian surface. This includes the generation of high quality co-registered DTMs and corresponding terrain-corrected OrthoRectified Images (ORIs), using data from different NASA and ESA instruments.In this paper, we introduce a fully automated multi-resolution DTM processing chain developed by the Imaging Group at Mullard Space Science Laboratory (MSSL) at University College London (UCL) for NASA Mars Reconnaissance Orbiter (MRO) Context Camera (CTX) and High Resolution Imaging Science Experiment (HiRISE) stereo-pairs. This is called the Co-registration Ames Stereo Pipeline-Gotcha Optimised (CASP-GO). This pipeline is based on the open source NASA Ames Stereo Pipeline (ASP) (Becker et al, 2013, Moratto et al., 2010, Shean et al., 2016), the UCL Automated Co-registration and Ortho-rectification (ACRO) pipeline (Sidiropoulos and Muller, 2015, Sidiropoulos and Muller, 2017), and the Gotcha (Shin and Muller, 2012) sub-pixel refinement method. The implemented system guarantees global geo-referencing compliance with respect to the ESA Mars Express High Resolution Camera (HRSC), and hence to the Mars Orbiter Laser Altimeter (MOLA), providing refined stereo matching completeness and accuracy from the open-source ASP normalised cross-correlation implementation.We have created a set of complete and fused 3D models (∼5500 CTX and ∼400 HiRISE stereo products) of the Martian surface from multi-resolution co-registered stereo that are all co-registered to a global reference system derived from laser altimetry. This allows a much more comprehensive interpretation based upon a multi-resolution analysis of the Martian surface to be made. A large sample of the DTM product was randomly selected for quality validation by visual inspection. The processed DTMs are integrated into a developed web based Geographic Information System (webGIS) which allows experts and members of the public to examine different parts of the planet for changes as well as to perform geomorphological and geological research.In the near future, it is planned to release the CASP-GO system as open-source, once we have included the latest ESA ExoMars Trace Gas Orbiter (TGO) Colour and Stereo Surface Imaging System (CaSSIS) data. Potentially, the iMars base data can also be used by the TGO mission and subsequent ESA missions to provide the necessary inputs for selection of a future landing site such as the ESA ExoMars 2020 rover and for any Mars Sample Return missions in the 2020s. In the iMars webGIS, we have all the NASA rover sites and planned ExoMars rover landing sites available in a full range of 3D HRSC, CTX and HiRISE DTMs and terrain-corrected images. The NASA rover sites, in addition, have a gateway to a separate webGIS containing processed rover camera data. In all cases, a 3D digitisation tool called PRo3D® (Traxler et al., 2017) developed within a previous EU-FP7 Planetary Robotics Vision Data Exploitation (PRoViDE) project (http://provide-space.eu last accessed: 15.11.2017) is available through the webGIS system.We discuss issues arising from experimenting with well-known open-source and commercial planetary DTM software in comparison with several in-house DTM processing pipelines. We comment, particularly on the use of the open-source ASP DTM processing chain and introduce a new working solution based on ASP. These issues include global co-registration accuracy, de-noising, dealing with match failure, matching confidence estimation, outlier detection and discarding scheme, various DTM artefacts, uncertainty estimation, and quality-efficiency trade-offs. Examples of DTM processing results from CTX over the United States Geological Survey (USGS) MC11 map quadrant area (bounded by latitudes 0°, 30ºN and longitudes 315°, 360ºE) are provided. Internal comparison and evaluation between different DTM pipelines are also here shown for the Mars Exploration Rover (MER) and Mars Science Laboratory (MSL) landing sites.The rest of the paper is structured as follows. In the next subsection 1.2, we review the datasets employed followed in section 2 by an inter-comparison of different DTM processing pipelines and in section 3, the CASP-GO system that has been developed. In section 4, examples of different CTX DTM and ORI products are presented as well as the development of a planet-wide CTX processing system. In section 5, issues concerned with data formats, dissemination and the relationship of CASP-GO to ACRO is explained. Finally, in section 6, we discuss the overall results and provide pointers to future developments.
1.2. Dataset overviewThe fundamental global reference system is based on MOLA data for our multi-resolution DTM production. MOLA is considered to be the most accurate and internally consistent global Mars 3D reference model developed to date. Individual MOLA tracks were interpolated and extrapolated by the MOLA team (Smith et al., 2001) to yield a global MOLA DTM with a spatial resolution of up to 128 grid-points per degree (463m) and a vertical track-crossing difference of between 2 and 13m. For the polar regions, an interpolated MOLA DTM is available with a spatial resolution of 512 grid-points per degree (108m). These MOLA DTMs are available through the NASA Planetary Database System (PDS; http://pds-geosciences.wustl.edu/missions/mgs/megdr.html last accessed: 15.11.2017).The HRSC on Mars Express comprises nine channels/looks that together in a single pass, within a few minutes, collect multi-angular and multi-colour images of the Martian surface, allowing stereo colour images to be produced from single orbit observations (Gwinner et al., 2016). German Aerospace Centre (DLR) has generated along-track orbital strip DTMs (at grid-spacing from 50-150m) and ORIs (up to 12.5m/pixel) in a Sinusoidal projection system. The processing of the raw HRSC data includes radiometric de-calibration, noise reduction, image matching, geo-referencing, photogrammetric processing and along-track Bundle Adjustment (BA). The final products are then labelled as “Level-4 Version 50+” (v50+) when the products reach a satisfactory level of quality (Gwinner et al., 2009, Gwinner et al., 2016). The co-registration of HRSC DTM and MOLA DTM is checked using average height differences and usually reveal residual horizontal offsets smaller than the grid spacing of the HRSC DTM and residual vertical offsets below 10m (Gwinner et al., 2009).The v50 + HRSC DTMs use the MOLA reference sphere with a radius of 3396.0 km. In iMars, the v50 + HRSC ORI/DTMs have been employed for most of the initial sites as a reference base map, so that the CTX products can be co-registered with HRSC and CTX 3D mapping products can subsequently be employed as the baseline for auto-co-registration and orthorectification for higher resolution images such as Mars Observer Camera Narrow-Angle (MOC-NA) and HiRISE. Almost all of the Martian surface has been covered by HRSC data but only around half has been processed into corresponding DTMs and ORIs.More recently, with increasingly dense HRSC level-4 coverage, a large-area mosaic has been generated by DLR/Leibniz University of Hanover (LUH)/Free University of Berlin (FUB) over the USGS MC11 map quadrangle (MC11-E: 0 to 62.5 km in the north and east directions from the origin; MC11-W: 0 to 62.5 km in the north and west directions from the origin) (Gwinner et al., 2015). This quadrant includes three of the four proposed ExoMars 2018 landing site candidates. The MC11 HRSC DTM mosaic uses Equidistant Cylindrical projection with a grid spacing of 50m for the DTM and colour mosaics, and 12.5m for the panchromatic image mosaic. The MC11 mosaicked DTM and ORI are based on the same set of procedures for image filtering and rectification, least squares matching, strip Bundle Adjustment, and calculation of 3D points applied for single strip data products. In addition, a bundle block adjustment, joint interpolation of multi-scale 3D point data sets, and photometric correction and image normalisation with respect to an external brightness standard (Thermal Emission Spectrometer albedo) are applied for the ORI mosaic (Gwinner et al., 2016).HRSC provides the fundamental 3D mapping products used here for the baseline, where they are available (i.e. for approximately 50% of Mars). When CTX stereo products are also available over the same areas as HRSC (i.e. for approximately 20% of the surface) then the CTX products can be co-registered with HRSC and CTX 3D mapping products can be employed as the baseline for 3D rectification of higher resolution images such as MOC-NA and HiRISE.In parallel since 2007, the MRO CTX instrument captures repeat pass single panchromatic grey-scale images at ∼6m/pixel over a swath-width of 30km with a large number with suitable stereo angles (Cook et al., 1996).The current work builds upon experience that was gained when we initially processed CTX stereo pairs for the MER-A (Spirit), MER-B (Opportunity), MSL, Viking-1, Viking-2, Mars Pathfinder (MPF), and Phoenix to derive ORIs (6m) and DTMs of 18m/grid point resolution using the ASP software in early 2013 within the EU-FP7 PRoViDE project. CTX ORI and DTMs are essential for accurate HiRISE to HRSC co-registration. In late 2015, within the iMars project, CTX stereo pairs for MER-A, MER-B, and MSL were reprocessed at UCL using the optimised CASP-GO processing chain, which brings CTX ORI and DTM to a higher level of quality compared to the ASP based results produced in the PRoViDE project. Moving towards global processing of CTX stereo pairs, more recently, a total of ∼5500 planet-wide CTX stereo pairs have been processed by UCL using the CASP-GO system ported to the Microsoft® Azure® computing cloud. These results will be described in more detail in section 5.Finally, the NASA MRO HiRISE camera is designed to acquire very detailed orbital images of Mars at resolutions up to 25cm. HiRISE uses 14 Charged Coupled Device (CCD) pushbrooms in a Time Delay Integration (TDI) including 10 red channels, 2 blue-green channels, and 2 Near-infrared (NIR) channels. The nominal maximum size of the red images is about 20,000 × 126,000 pixels and 4000 × 126,000 pixels for the narrower Blue-Green (B-G) and NIR bands. To facilitate the mapping of landing sites, HiRISE produces stereo pairs of images from which the topography can be measured to a precision of 0.25 metres. The HiRISE images are usually acquired at the same time as CTX (Malin & McEwen, private communications, 2015, 2016). At the time of writing, 441 HiRISE stereo pairs have been identified for processing. These pairs were prioritised because they belong to areas that have 5 or more repeat views.
