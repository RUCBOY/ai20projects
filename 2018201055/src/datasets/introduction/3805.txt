Automatically measuring objects in order to check whether they conform to a certain tolerance with respect to nominal values is a problem that frequently occurs in the industry, for instance for quality control. Machine vision systems obtain these measures by analyzing images of the inspected objects. On them it is possible to assess not only the dimensional quality of objects but also to quantify their shape attributes, position, orientation, alignment etc. [1] both in two and three dimensions [2].
Many and diverse manufacturing processes have benefited from the design of problem-specific automatic visual measurement methods [3], [4], [5], [6], [7]. The difficulty of the problem such methods have to face is often correlated to the degree in which objects shape and pose vary: from objects always at a fixed position with respect to the camera and rigid, equal shapes, to free position, non-rigid and articulated shapes. In the first case, the detection of the points from which to take longitudinal or area measures is in general easier than in the second, where the shape has to be first understood before localizing the points of interest along its contour. The problem we address is the automatic visual measurement of apparel. It lies in the later group, that requires shape understanding.
Unlike mass manufacturing of other products, which often uses precise machinery and automation, clothing is still largely done by hand. This results in discrepancies between the actual and the nominal dimensions. This adds to the problem of deciding how much smaller the dimensions of the garment with respect to the body need to be in order to achieve a good fit.
Difference in dimensions is a problem in ready-to-wear because when a customer buys the same garment shape in the same size several times, he or she wants them to have the same dimensions. Moreover, new players in the apparel industry specialize on the manufacture of custom tailored garments through web sites. Typically, they offer the possibility to potential clients to enter their body measures so that the product they receive fits them perfectly. Again, and now even more critical, it may be the case that the garment finally made does not satisfy this key goal. Ill-fitting garments don’t just imply extra costs in the form of returns and unsellable products but can turn customers to a competitor. Thus, the final checking of garments dimensional measures before they are dispatched to customers is highly desirable. But manually obtaining them presents several drawbacks:
•Mainly, the inspection of all the produced garments is costly, so perhaps not all the garments are inspected but just some random sample. The reason is that even taking and writing down 10 measures per clothing piece takes some minutes.•Measurements have some degree of subjectivity not only because they are collected by humans but because, obviously, textiles fold.•Another source of subjectivity is that whereas some measures are distances between characteristic points like seams or profile corners, others are between ill-defined points (Fig. 2), their location being left to the criteria of the inspector.
1.1. ObjectiveIn this paper we describe an automatic, fast and generic method to obtain dimensional measures from garments at preshipment time, exemplified with two common types: jackets and pants. Each one has its own set of measures and of course a different shape and pattern of shape variation. One possible —though cumbersome— approach is to build an ad hoc, independent method for each type.Our goal is more far reaching: a single method able to cope with these two types and easily extensible to new types coming in the future, with their own shapes and list of measures. The solution is, as we will see, a method that learns how to measure a certain type of garment just from a training set of samples, being the samples pairs of image and corresponding groundtruth measures values. That is, the method does not depend on the particular shape of a type of garments. Learning means being able to understand the apparel contour in order to then obtain an estimation for the value of the sought measures —normally distances— without knowing the particular points from which they are defined.
1.2. Related workThe computer-assisted visual inspection within the apparel industry covers several of the phases of the production pipeline [8]. However, most of the works concentrate in the early stage of fabric inspection, where the problem is the detection of a number of defects like stains, pilling, weaving and knitting errors, etc. [9], [10], [11]. From the computer vision point of view, these are problems of texture analysis, for which [12] offers a through review and categorization of techniques. The problem of automated inspection of manufactured garments has received comparatively less attention, perhaps because of the larger variability of the kind of objects to inspect.As for the problem we address, obtaining dimensional measures of garments, the literature is scarcer. To the best of our knowledge there are only four works coincident to ours. The oldest one dates back to thirty years ago [13], where the authors proposed a simple algorithm to find key points along the contour of garments from which later obtain dimensional measures. The goal was to assess the shrinkage of knitted garments, but they already mention the possibility of “routine inspection prior to dispatch to customers”. After a large gap, next two works [14], [15] compute the Freeman chain code of the contour in order to locate its corners which are the same type of key points. Like in the previous case, no extensive results are presented but just a few examples. Last and most recent work is [16], which follows the same strategy of key point detection prior to measurement. An interesting contribution of this work is that they apply their method to several types of garments (shirt, pants, vest, skirt) plus the ability to recognize it from the image. Each key point among a list of corner points is selected by comparing relative position, concavity and convexity with those of a template garment. Like before, no analysis of the results is provided, globally, per garment type or per dimensional measure. Furthermore, no details are provided on the specific parameters and procedure to select the key points beyond that they are the most similar to those in the template.Coincident with our goal of obtaining dimensional measures from ill-defined points along the contour of a varying shape, the authors of [17] propose a method to automate the task of a tailor by image analysis of human body profiles. Besides needing infra-red markers, this method relies on heuristics to locate the endpoints of the dimensional measures, similarly to [16].As we will see in next section, differently from all of these works we strive for a generic method whose parameters are learned from a training set. Hence, it will be easy to extend from one type of garment to new types. Moreover, we do not classify corner or high curvature points into some key point class, in order to avoid local decisions that are prone to error. Instead our method will consider the contour globally and from it will obtain the dimensional measures by regression, not by computing any kind of distance.
1.3. Method overviewFig. 1 illustrates the idea of the method. The first step is to extract the contour of a garment from the image and then approximate it by a number of straight segments. We have previously decided a division of the contour of each type of garment into a set of meaningful parts. For example in jackets these are the neck, left shoulder, left wrist, outer and inner left sleeve, left trunk, etc. (see Fig. 4, Fig. 11 for the complete list). The second step is to classify each segment as belonging to one of these parts. We cast this task into labeling a number of unknown variables of a chain conditional random field (CRF), being the variables the segments, and the labels the former types of contour parts. Probabilistic graphical models like CRFs allow us to properly combine•the vector of features describing the segments, like their position or orientation, which play the role of likelihood, and•the strong dependencies or relationships that exist between labels of consecutive variables, namely, a prior: after an sleeve segment often comes another sleeve segment, less often a wrist segment, and never trunk, for instance.Download : Download high-res image (154KB)Download : Download full-size imageFig. 1. Scheme of the method.Labeling results from inference on this CRF, that is, finding the configuration of labels that maximizes the joint a posteriori probability, which is proportional to the likelihood times the prior. However, in order to succeed it is critical to learn in advance the CRF parameters, which we achieve through the structured support vector machine (S-SVM) technique.Once labeled all the segments, the last step estimates the measures defined for that type of garment. Now we could try to locate the end points for each measure of interest from the labeled segments. However, this would need an ad hoc, apparel-dependent algorithm (one for jackets, another for pants, etc.), opposite to our goal of a completely learnable system. Moreover, some measures are defined between hidden points, like the chest in jackets, whose endpoints are at the joint of the sleeves and the trunk (Fig. 2), and thus can not be obtained in this way. Our approach is, instead of computing distances, to regress them from distances among the labeled segments. Thus we again end up learning parameters, now of a set of regressors. We will show that this indirect approach yields very good estimations for all measures. Furthermore, being able to estimate all the measures from a single image saves the time to place the garments in different poses in order to make all the endpoints visible.Download : Download high-res image (339KB)Download : Download full-size imageFig. 2. Eight measures on jackets and five on pants that form the groundtruth for these two garment types. Some of them are distances between hidden points (chest, crotch) or points not on a corner or a seam (biceps, waist, thigh), in both cases shown as dashed lines.To summarize, the contributions of this work are.•a new method for apparel visual measurement with a sound theoretical basis, that is fast and performs well, as shown by processing a relatively large number of samples•easily extensible to new types (that is, shapes) of garment, as we will show when switching from jackets to pants, because it learns to measure from examples•with a key component, a CRF for segment labeling, which is highly accurate in spite of being based on few and very simple features•able to obtain accurate longitudinal dimensions for which their end points are not even visible, because they are regressed from other distancesThe rest of the paper is organized as follows. Next section presents the details of the dataset we have used, composed of two subsets, one per type of apparel. In Section 3 we explain the two first components of the method, namely, the extraction of the garment contour and its segments, and their labeling. For the sake of comprehensiveness, we include background on CRFs and learning with S-SVM. Also, we report there the results for this component and compare it to a well known non-structured prediction technique, linear SVM. Section 4 continues with the last component, the one computing all the measures from the labeled segments through regression. Section 5 presents several statistics comparing the estimated and real measures. Finally, in Section 6 we draw the conclusions and avenues of future work.
