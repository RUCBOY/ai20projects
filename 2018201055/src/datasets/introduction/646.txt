With the development of productivity, fabrics have developed from hand knitting to modern woven [24]. However, due to operational and mechanical failures, woven fabrics often produce defects on the fabric surface, resulting in a loss of up to 45â€“60% [34]. Therefore, effective detection and control of fabric defects is one of the key links for modern fabric enterprises to control costs and improve product competitiveness. Automatic fabric detection system can overcome the shortcomings of manual detection, reduce costs, and ensure a high success rate (90%) [25].
According to the different structural characteristics of fabrics, fabric defect detection methods based on computer vision can be divided into two categories: one is designed for plain and twill fabrics, the other is for fabrics with periodic patterns. The algorithms of plain and twill fabrics are both traditional and have been mature after years of research, which can be divided into: 1) Statistical method [1], [13], [22]. 2) Spectrum method [4], [9], [12], [23], [41], [45]. 3) Training method [18], [26], [29], [46]. 4) Model method [2], [10].
The complexity of background texture determines the difficulty of detecting fabrics with periodic patterns. Ngan et al. [14]. proposed a wavelet based golden image subtraction (WGIS), which improved the traditional image subtraction (TIS). This method has a good detection effect (97%) for 30 fabric defect images, but its generality is poor. Zeng Yinquan et al. [5]. proposed an ELO sorting (ER) algorithm based on the principle of TIS, which uses the difference between image blocks to locate the defect area, and obtains the threshold value by training a large number of defect free images. The method obtains accurate results by setting parameters manually. Ng et al. [30]. assumed that the fabric defect image consists of a texture part (defect free texture) and a cartoon part (defect area). Based on this assumption, they proposed an image decomposition (ID) model, which is to obtain the resolution coefficient of the image to be tested from the defect free image. For the problem of fabric deformation, Chang et al. [42]. a template correction (TC) method is proposed to obtain a more ideal template and improve the detection accuracy. Jia et al. [27]. automatically segmented the lattice according to morphological component analysis (MCA), and then trained the defect free image to obtain the global threshold, which was used to locate the defect area. All the above methods have achieved satisfactory results. However, there are still some deficiencies. 1) Results the stability is poor and the computational complexity is high [15]. 2) The rationality of the results depends on the mutation degree and size of defects [38]. 3) In the training process, the random selection of defect free zone has a great impact on the detection results.
On the other hand, patterned fabrics are usually obtained by rotating or symmetrically transforming a basic pattern, so it contains very large redundant information, and the defect area is often prominent. Therefore, the application of low order decomposition model in pattern fabric defect detection meets the theoretical requirements, and some representative algorithms are developed. Ng et al. [31] proposed a TVG model, in which total variation (TV) is used to represent the defect region of an image, and its dual norm (G) is used to adjust the defect free region. In order to describe the image features vividly, Li et al. [8] constructed the feature matrix of the image to be tested by Gabor and directional gradient histogram (HOG), and proposed a fabric defect detection method combined with low rank decomposition. These models do not apply to all patterns. In order to solve this problem, high-level prior [16], [18], [19], [33] is introduced to make the low order decomposition model more robust. Huang Peng et al. [33] proposed a weighted low rank recovery model (W-LRR) for patterned fabric processing, in which defect prior is introduced to emphasize defect information. However, the prior information of defects is unreliable when there is similarity between the defect region and the defect free region.
The existing fabric defect detection methods divide the defect image into blocks of a certain size, which makes the defect image contain many texture regions without defects. Therefore, the prior values obtained by most models are inaccurate. When the defect block contains both defect free points and defect points, the judgment of defect free points around the defect area will be incorrect.
In order to overcome the above problems, a fabric defect detection method based on gradient information low rank decomposition and structured graph algorithm (PG-NLR) is proposed. Firstly, according to the structured graph algorithm, the fabric defect image is divided into defect free blocks with local features and defect failure period. Secondly, according to the segmentation results, the defect prior value is calculated to guide matrix decomposition, so that the model can weaken the defect free area and highlight the defect area under the sparse term. The main contributions of this paper are as follows:
1) A novel image segmentation method based on structured graphics algorithm is first introduced to fabric defect detection problem. The fabric image is thus segmented into defect and defect-free blocks according to the similarity of neighboring pixels instead of fixed size.
2) Different from the traditional graph based segmentation method, this model sets a new adaptive threshold according to the periodic information of fabric image, so as to control the merging of components according to the structural characteristics of fabric image.
The rest of this paper is arranged as follows. The second section briefly introduces the related work of low rank decomposition and structured graph algorithm model using gradient information. In the third section, we propose the PG-NLR model and discuss the optimization details. In the fourth part, a fabric defect detection method based on PG-NLR is proposed, and the calculation method of defect prior is described. In Section 5, we evaluate the performance of the PG-NLR based method with a standard data, and compare it with the existing representative methods PNRPCA, GHOG, ER and G-NLR. Finally, the fifth part summarizes the paper.
