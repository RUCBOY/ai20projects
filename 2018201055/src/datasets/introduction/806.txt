Energy is a vital but scarce resource in mobile networks comprised of battery-powered devices. It affects the success of collaborative network operations (e.g., multi-hop routing) as well as the network lifetime. Many studies have been performed to develop efficient energy management strategies in mobile networks leveraging different methods (e.g., sleep scheduling [1], harvesting [2], cross-layer design [3]). With the recent advances in wireless power transfer (WPT) technology, wireless charging based energy replenishment of mobile nodes has also been considered as an alternative solution for continuous operation of such networks. There are many studies performed especially for wireless sensor networks [4], [5], [6] that use mobile chargers, which are special vehicles (e.g., robot, Unmanned Aerial Vehicle (UAV)) with high energy supplies, to charge the sensors in the field periodically. Recently, wireless charging of different types of mobile devices/vehicles such as smartphones [7], [8], [9], electric vehicles [10], [11], [12] and Internet-of-Things (IoT) devices [13], [14], [15] has also been considered.
While most of the aforementioned studies consider the charging of mobile nodes (e.g., devices or vehicles) wirelessly from a mobile charger node or from a direct energy source, it may not be practical to utilize an external charger in some networking scenarios due to environmental restrictions and operational costs. In such cases, leveraging the available resources among nodes in the network could help. For example, in the context of mobile social networks, friends can help charge each other to charge their devices (i.e., crowdcharging [9], [16], [17]) utilizing the bidirectional energy sharing capability of recent smartphones (e.g., Samsung Galaxy S10, Huawei Mate 20 Pro). This could be motivated by reciprocal altruism among friends [18] or through incentives [19]. Note that the current form of wireless charging (e.g., inductive charging standard Qi [20]) integrated in most of the products in the market today requires very close distances (i.e., almost touching) for energy transfer, however it is still a more convenient method than energy sharing over cables [21] or charging the devices from outlets. Such a peer-to-peer energy sharing can also be critical during disasters or emergency situations when the energy is scarce. For example, several members of a family or close friends can share the total available energy in their phone batteries equally to stay connected longer during searching of another member of the team separately. Moreover, the charging of IoT devices could also be realized through crowdsourcing of energy from the smart mobile devices of people [15], [19], [22], [23].
 In this paper, we study the energy balancing problem that leverages the bidirectional energy sharing capabilities of nodes [9], [16], [17] and aims to efficiently use the available energy at nodes to prolong the network lifetime, which is usually defined as the time until the first node in the network dies. Energy balancing is the process of equalizing the energy levels at each node or minimizing the sum of the differences of their energy from the average energy (i.e., variation distance as will be detailed later) in the network as much as possible. In opportunistic networks, energy balancing is achieved through energy exchanges between nodes as they meet. However, in every energy exchange there will be an energy loss due to the imperfect efficiency in the current wireless charging technologies. Thus, the challenge is to achieve an energy balance among nodes while also minimizing the energy loss during this process.Download : Download high-res image (332KB)Download : Download full-size imageFig. 1. Energy balancing scenarios: (a) With a fully connected contact graph, (b) With a partially connected contact graph, (c) With time limit of 50. Edges represent that the nodes meet each other opportunistically with an average intermeeting time shown as edge weight.Table 1. Energy transfer amounts between nodes and final energy levels of nodes for scenarios in Fig. 1 with 80% transfer efficiency.ScenarioEnergy transfer amountsFinal energy levels of nodes123456Fig. 1a④⟶50% ②, ⑤⟶35% ①50% for all nodes⑥⟶20% ③Fig. 1b⑤⟶48.68% ②, ⑥⟶21.05% ③, ④⟶51.05% ①, ①⟶13.89% ⑤, ③⟶1.89% ⑤48.94% for all nodesFig. 1c⑤⟶35.90% ②, ⑥⟶31.81% ③, ④⟶50.90% ①, ①⟶13.63% ⑥49.09%38.72%59.45%49.09%
The current solutions [24], [25], [26], [27] for energy balancing assume that all the nodes in the network meet with each other with an equal probability. However, in opportunistic networks [28], [29], each node may only meet with a subset of nodes in the network, thus there may not be an opportunity for energy exchange between some pairs of nodes directly. Moreover, for some node pairs that meet, the average intermeeting times can be very large, thus the energy exchanges can only occur rarely, resulting in a very long time until an energy balance in the network is achieved.
1.1. Motivating exampleWe illustrate the effects of these limitations in the energy balancing process through an example with 6 nodes as shown in Fig. 1. We consider three different scenarios in which energy levels of nodes are the same but the contact graphs between nodes are different. If each node on the negative side (i.e., having energy less than the average energy in the network (53.5%)) has an opportunity to meet with each node on the positive side as in Fig. 1a, the energy sharing process will be relatively easy. For example, with an 80% transfer efficiency (or with an energy loss rate of 0.2), the optimal average energy reachable by all nodes will be 50%, which happens when node 5 transfers 35% to node 1 (which only gets 28% due to loss), node 4 transfers 50% to node 2 (which only gets 40%) and node 6 transfers 20% to node 3 (which only gets 16%).On the other hand, when there is no direct energy exchange opportunity between some negative and positive side node pairs, as in the case of Fig. 1b, the optimal energy achievable can be less due to the more number of interactions required between nodes and multi-hop travel of energy, causing additional loss. In Fig. 1b, nodes still reach a perfect energy balance (i.e., all nodes having the same energy level) at 48.94% through transfer amounts shown in Table 1, however, the final balanced energy level is less than it is in Fig. 1a (which has a complete contact graph between all positive and negative side nodes). Finally, there can be a time threshold for reaching an energy balance. In that case, we can simply ignore the edges (i.e., contact relations) with an average intermeeting time higher than this threshold and recalculate the average optimal energy balance. Fig. 1c shows the situation where the deadline for energy balance is set to 50 time units. The dotted edges shown in the figure are ignored; hence, nodes cannot use these edges for energy exchanges. In this case, the optimal average energy balance is 49.09%, however, as it is shown in Table 1, not all nodes can reach this energy level. This example shows that with sparse contact graphs, the optimal energy balance can change and not all nodes may reach that.
1.2. ContributionsIn this paper, we address these challenges in achieving an energy balance among the nodes in a mobile opportunistic network. Within the given contact graph limitations, average intermeeting times for the meeting pairs, and the time threshold to complete balancing, we aim to first minimize the energy difference between nodes and then minimize the energy loss during this process. To this end, we utilize Mixed Integer Linear Programming (MILP) to find out the optimal energy balance possible with a minimal energy loss and develop corresponding energy sharing protocols among nodes considering single hop and multi-hop energy exchanges separately. Finally, we also discuss how the energy balancing problem translates to the problem of network lifetime maximization and provide the necessary updates in the optimization model in disconnected networks. Through simulations, we show that our algorithms overcome the state-of-the-art solution by achieving a higher energy balance with a lower energy loss and a longer network lifetime. We also show the benefit of multi-hop based solution over single hop solution in sparse networks. The main contributions of this paper can be summarized as follows:•We find out the optimal energy balance possible for a given contact graph of nodes and intermeeting times through direct energy exchanges (i.e., single hop) using MILP.•We develop two different energy balancing protocols among nodes based on the required energy exchanges found by MILP model to reach the optimal energy balance.•For networks with sparse contact graphs, we enhance the MILP model to allow multi-hop energy exchanges to achieve a better energy balance and develop the corresponding energy balancing protocol among nodes considering both the direct and relayed energy exchanges.•We discuss the relation of the energy balancing problem to the problem of network lifetime maximization and provide the updates needed in the MILP model in disconnected graphs.•We perform extensive simulations using meeting patterns from synthetic and real user traces and show that the proposed energy sharing protocols perform better than the state-of-the-art.The preliminary version of this study is published in [30] considering only the single hop based energy exchanges. In this paper, we also consider the multi-hop based energy exchanges and develop corresponding MILP based optimization model as well as the energy sharing protocol. The relation between the energy balancing and network lifetime maximization problems is also discussed in this version and new simulation results are provided regarding the extended content.The rest of the paper is structured as follows. In Section 2, we discuss the related work. In Section 3, we provide the system model, our assumptions and the problem statement. In Section 4, we elaborate on the MILP based solution with single hop energy exchanges and the energy sharing protocols among nodes in the network. In Section 5, we extend the MILP based solution by using multi-hop based energy exchanges and develop the corresponding energy sharing protocol among nodes. In Section 6, we present the simulation settings and results comparing the performance of the proposed algorithms with the state-of-the-art solution. In Section 7, we discuss the implications of energy balancing in terms of network lifetime and provide the necessary modifications in MILP model and solutions in case of disconnected networks. Finally, we conclude the paper and outline the future work in Section 8.
